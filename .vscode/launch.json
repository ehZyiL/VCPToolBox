{
  "version": "0.2.0",
  "inputs": [
    {
      "id": "pluginName",
      "type": "promptString",
      "description": "Enter the name of the plugin to debug (e.g., JinaAI, FluxGen)",
      "default": "JinaAI"
    }
  ],
  "configurations": [
    {
      // ç›´æ¥å¯åŠ¨æœåŠ¡å™¨ - ç”¨äºå¼€å‘ç¯å¢ƒè°ƒè¯•
      "name": "ğŸš€ Launch Server (Direct)",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/server.js",
      "env": {
        "NODE_ENV": "development",
        // å¼€å‘ç¯å¢ƒ
        "DEBUG": "*",
        // å¯ç”¨æ‰€æœ‰è°ƒè¯•ä¿¡æ¯
        "DebugMode": "true"
        // è‡ªå®šä¹‰è°ƒè¯•æ¨¡å¼
      },
      "console": "integratedTerminal",
      // ä½¿ç”¨é›†æˆç»ˆç«¯
      "restart": true,
      // æ”¯æŒè‡ªåŠ¨é‡å¯
      "runtimeArgs": [
        "--nolazy"
        // ç¦ç”¨å»¶è¿Ÿç¼–è¯‘ï¼Œæé«˜è°ƒè¯•ä½“éªŒ
      ],
      "skipFiles": [
        "<node_internals>/**",
        // è·³è¿‡ Node.js å†…éƒ¨æ–‡ä»¶
        "node_modules/**"
        // è·³è¿‡ç¬¬ä¸‰æ–¹æ¨¡å—
      ],
      "stopOnEntry": false,
      // ä¸åœ¨å…¥å£å¤„åœæ­¢
      "cwd": "${workspaceFolder}",
      // å·¥ä½œç›®å½•
      "outputCapture": "console"
      // æ•è·æ§åˆ¶å°è¾“å‡º
    },
    {
      // é™„åŠ åˆ° PM2 è°ƒè¯•è¿›ç¨‹ - ç”¨äºç”Ÿäº§ç¯å¢ƒè°ƒè¯•
      "name": "ğŸ”— Attach to PM2 Debug",
      "type": "node",
      "request": "attach",
      // é™„åŠ æ¨¡å¼ï¼Œä¸å¯åŠ¨æ–°è¿›ç¨‹
      "port": 9229,
      // è°ƒè¯•ç«¯å£ï¼Œéœ€è¦ä¸ PM2 å¯åŠ¨æ—¶çš„ç«¯å£ä¸€è‡´
      "restart": true,
      // æ”¯æŒé‡æ–°é™„åŠ 
      "localRoot": "${workspaceFolder}",
      // æœ¬åœ°ä»£ç æ ¹ç›®å½•
      "remoteRoot": "${workspaceFolder}",
      // è¿œç¨‹ä»£ç æ ¹ç›®å½•ï¼ˆæœ¬åœ°è°ƒè¯•æ—¶ç›¸åŒï¼‰
      "skipFiles": [
        "<node_internals>/**",
        "node_modules/**"
      ],
      "trace": true
      // å¯ç”¨è¯¦ç»†è·Ÿè¸ªä¿¡æ¯
    },
    {
      // å¯åŠ¨æ—¶ç«‹å³æ–­ç‚¹ - ç”¨äºè°ƒè¯•å¯åŠ¨è¿‡ç¨‹
      "name": "ğŸ› Launch with Breakpoint on Start",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/server.js",
      "env": {
        "NODE_ENV": "development",
        "DEBUG": "*",
        "DebugMode": "true"
      },
      "console": "integratedTerminal",
      "restart": true,
      "runtimeArgs": [
        "--nolazy"
      ],
      "skipFiles": [
        "<node_internals>/**",
        "node_modules/**"
      ],
      "stopOnEntry": true,
      // åœ¨ç¨‹åºå…¥å£å¤„è‡ªåŠ¨åœæ­¢
      "cwd": "${workspaceFolder}"
    },
    {
      // æ’ä»¶ä¸“ç”¨è°ƒè¯• - åªæ˜¾ç¤ºæ’ä»¶ç›¸å…³çš„è°ƒè¯•ä¿¡æ¯
      "name": "ğŸ§ª Debug with Specific Plugin",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/server.js",
      "env": {
        "NODE_ENV": "development",
        "DEBUG": "plugin:*",
        // åªæ˜¾ç¤ºæ’ä»¶ç›¸å…³çš„è°ƒè¯•ä¿¡æ¯
        "DebugMode": "true",
        "ShowVCP": "true"
        // æ˜¾ç¤º VCP ç›¸å…³ä¿¡æ¯
      },
      "console": "integratedTerminal",
      "restart": true,
      "runtimeArgs": [
        "--nolazy"
      ],
      "skipFiles": [
        "<node_internals>/**",
        "node_modules/**"
      ]
    },
    {
      "name": "ğŸ”§ Debug Plugin (Standalone)",
      "type": "node",
      "request": "launch",
      "name": "ğŸ”§ Debug Plugin (Standalone)",
      "program": "${workspaceFolder}/debug/debug-plugin.js",
      "args": [
        "${input:pluginName}"
      ],
      "cwd": "${workspaceFolder}",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "skipFiles": [
        "<node_internals>/**",
        "node_modules/**"
      ],
      "preLaunchTask": "Clean Debug Logs"
    },
    {
      // VCP æœåŠ¡å™¨æ ‡å‡†è°ƒè¯• - æ¨èçš„ä¸»è¦è°ƒè¯•é…ç½®
      "type": "node",
      "request": "launch",
      "name": "ğŸš€ Launch VCP Server",
      "program": "${workspaceFolder}/server.js",
      "env": {
        "NODE_ENV": "development",
        // å¼€å‘ç¯å¢ƒ
        "DebugMode": "true",
        // å¯ç”¨è°ƒè¯•æ¨¡å¼
        "ShowVCP": "true"
        // æ˜¾ç¤º VCP ç›¸å…³ä¿¡æ¯
      },
      "console": "integratedTerminal",
      "restart": true,
      // æ”¯æŒçƒ­é‡å¯
      "runtimeArgs": [
        "--nolazy"
      ],
      "skipFiles": [
        "<node_internals>/**",
        "node_modules/**"
      ],
      "cwd": "${workspaceFolder}"
    }
  ]
}